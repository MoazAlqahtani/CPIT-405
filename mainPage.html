<!DOCTYPE html>
<head>
<title>TechNews</title>
<link rel="stylesheet" type="text/css" href="myStyle.css">
</head>
<body class="main">
<div id="content">
<header class="head">
    <ul>
        <li id="news"><img src="./pic/home.png" width=15 alt=Homeicon><a href="#">TNews</a></li>
        <li><a href="#">News</a></li>
        <li><a href="#">Comments</a></li>
        <li><a href="#">Show</a></li>
        <li><a href="#">Ask</a></li>
        <li><a href="#">Jobs</a></li>
        <li><a href="#">Submit News</a></li>
    </ul>
</header>
<div id="mainTitle">
<h5>Main Stories</h5>
<h5>10/02/2017</h5>
<label>sort by
 <select id="selector">
    <option value="sortN">Newest</option>
    <option value="sortL">Like</option>
    <option value="sortC">Comments</option>
 </select>
</label>

</div>
<div id="allList">
    <ul class="newsList">
        <li class="lis">
            <a href="#">Getting Started with Node.js</a>
            <ul><li>36 likes | Sun Nov 12 2017 7:12:50 | 20 comment</li></ul>
        </li>
        <li class="lis">
            <a href="#">Tesseract.js - Pure JavaScript OCR for 60 Language</a>
            <ul><li>56 likes | Sat Oct 12 2017 11:52:00 | 33 comment</li></ul>
        </li>
        <li class="lis">
            <a href="#">No human genome has ever been completely sequenced</a>
            <ul><li>63 likes | Tus Sep 12 2017 1:22:11 | 15 comment</li></ul>
        </li>
        <li class="lis">
            <a href="#">Show HN: Arxiv Vanity – Read academic papers from Arxiv as responsive web pages</a>
            <ul><li>101 likes | Wen Sep 12 2017 2:32:56 | 90 comment</li></ul>
        </li>
        <li class="lis">
            <a href="#">Paw – macOS HTTP client for testing and describing APIs</a>
            <ul><li>89 likes | Fri Feb 12 2017 9:42:59 | 14 comment</li></ul>
        </li>
        <li class="lis">
            <a href="#">Stripe Atlas: Getting your first 10 customers</a>
            <ul><li>36 likes | Sun Feb 12 2017 12:11:43 | 45 comment</li></ul>
        </li>
    </ul>
</div>
<footer>
    <p>© 2017 HN inc. All Rights Reserved.</p>
    <p>
        <a href="#">Privacy</a>
        <a href="#">Terms of Use</a>
        <a href="#">Contact</a>
        <a href="#"></a>
    </p>
    <p>Written in pure HTML | Hosted By:<a href="#"> SadSmile</a></p>
</footer>
</div>
<script>

var selector = document.getElementById("selector");

selector.addEventListener("click",function(){
    if(this.value == "sortL"){
  var list, i, switching, b, shouldSwitch;
  list = document.getElementsByClassName("newsList");
  switching = true;

  while (switching) {

    switching = false;
    b = list[0].getElementsByClassName("lis");

    for (i = 0; i < (b.length - 1); i++) {

      shouldSwitch = false;

      var str = b[i].getElementsByTagName("li");
      var res = str[0].innerText.split(" ", 1);
      var str1 = b[i+1].getElementsByTagName("li");
      var res1 = str1[0].innerText.split(" ", 1);
      if (parseInt(res) < parseInt(res1)) {

        shouldSwitch= true;
        break;
      }
    }
    if (shouldSwitch) {

      b[i].parentNode.insertBefore(b[i + 1], b[i]);
      switching = true;
    }
   }
}else if(this.value == "sortC"){
    var list, i, switching, b, shouldSwitch;
  list = document.getElementsByClassName("newsList");
  switching = true;

  while (switching) {

    switching = false;
    b = list[0].getElementsByClassName("lis");

    for (i = 0; i < (b.length - 1); i++) {

      shouldSwitch = false;

      var str = b[i].getElementsByTagName("li");
      var res = str[0].innerText.split("|", 3);
      var str1 = b[i+1].getElementsByTagName("li");
      var res1 = str1[0].innerText.split("|", 3);
      if (parseInt(res[2].split(" ",2)[1]) < parseInt(res1[2].split(" ",2)[1])) {

        shouldSwitch= true;
        break;
      }
    }
    if (shouldSwitch) {

      b[i].parentNode.insertBefore(b[i + 1], b[i]);
      switching = true;
    }
   }
}else if(this.value == "sortN"){
    var list, i, switching, b, shouldSwitch;
  list = document.getElementsByClassName("newsList");
  switching = true;

  while (switching) {

    switching = false;
    b = list[0].getElementsByClassName("lis");

    for (i = 0; i < (b.length - 1); i++) {

      shouldSwitch = false;

      var str = b[i].getElementsByTagName("li");
      var res = str[0].innerText.split("|", 2);
      var str1 = b[i+1].getElementsByTagName("li");
      var res1 = str1[0].innerText.split("|", 2);
      var d1 = new Date (res[1]);
      var d2 = new Date (res1[1]);
      if (d1 < d2) {

        shouldSwitch= true;
        break;
      }
    }
    if (shouldSwitch) {

      b[i].parentNode.insertBefore(b[i + 1], b[i]);
      switching = true;
    }
   }
}
  })
 

</script>
</body>